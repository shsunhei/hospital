<!DOCTYPE html> 
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile Web App</title>
<link href="http://code.jquery.com/mobile/1.0/jquery.mobile-1.0.min.css" rel="stylesheet" type="text/css"/>
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>


<script>


$(document).ready(function() {
	
$("#submit").on('click',function() {
    var username=$("#username").val();
    var pass1=$("#password").val();
    var pass2=$("#repassword").val();
	var email=$("#email").val();
	
	if(pass1==pass2){
	}else{
		alert("password doesn't match");
	    return;	
	}
	
	
    var myData = 'username='+username+'&password='+pass1+"&email="+email;
	 		
        $.ajax({
  		  	 url:'api.php',
  			   type:"POST",
           dataType : 'text',
  			   data:myData,
        success: function(msg, status){
    				alert(msg);
        
                },
                 error:function(xhr, ajaxOptions, thrownError){
                    alert(xhr.status);
                    alert(thrownError);
                 }
            });
   
});	


//===========================login==========&符號代表database主名稱
$("#login").on('click',function() {
    var username=$("#loginusername").val();
    var pass1=$("#loginpassword").val();

	
    var myData = 'username='+username+'&password='+pass1;
	 		
        $.ajax({
  		  	 url:'api.php',
  			   type:"GET",
           dataType : 'text',
  			   data:myData,
        success: function(msg, status){
    				alert(msg);
        
                },
                 error:function(xhr, ajaxOptions, thrownError){
                    alert(xhr.status);
                    alert(thrownError);
                 }
            });
   
});	

	
//==============Update Journal===============
$("#update").on('click',function() {
     var username=$("#updateusername").val();
    var oldpass=$("#updateoldpassword").val();
	var newpass=$("#updatenewpassword").val();
	
    var myData = 'username='+username+'&oldpass='+oldpass+'&newpass='+newpass;
	 			
        $.ajax({
  		  	 url:'api.php',
  			   type:"PUT",
           dataType : 'text',
  			   data:myData,
        success: function(msg, status){
    				alert(msg);
        
                },
                 error:function(xhr, ajaxOptions, thrownError){
                    alert(xhr.status);
                    alert(thrownError);
                 }
            });
   
});

//==============Delete review===============
$("#delete").on('click',function() {
	     var username=$("#deleteusername").val();
    var password=$("#deletepassword").val();

    var myData = 'username='+username+'&password='+password;
    //var review_id="reviewid";
    //var myData = 'review_id='+review_id;
              
        $.ajax({
          url:'api.php',
          type:"DELETE",
          dataType : 'text',
          data:myData,
        success: function(msg, status){
            alert(msg);
           
                },
                 error:function(xhr, ajaxOptions, thrownError){
                    alert(xhr.status);
                    alert(thrownError);
                 }
            });
   
});




});

</script>
</head> 
<body> 

<button id="update_blog">DEMO PUT</button>

<button id="del_review">DEMO DELETE</button>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

=======================Register========================<br>

Username: <input type="text" id="username"><br>
Password: <input type="password" id="password"><br>
re-Password: <input type="password" id="repassword"><br>
Email: <input type="text" id="email"><br>

<button id="submit">Save</button>
<br><br><br><br>

===========================Login======================<br>
Username: <input type="text" id="loginusername"><br>
Password: <input type="password" id="loginpassword"><br>


<button id="login">Login</button>
<br><br><br><br>
===========================Update======================<br>
Username: <input type="text" id="updateusername"><br>
OldPassword: <input type="password" id="updateoldpassword"><br>
NewPassword: <input type="password" id="updatenewpassword"><br>


<button id="update">Update</button>


<br><br><br><br>
===========================Delete======================<br>
Username: <input type="text" id="deleteusername"><br>
Password: <input type="password" id="deletepassword"><br>


<button id="delete">Remove now</button>
</body>
</html>
